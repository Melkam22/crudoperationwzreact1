{"ast":null,"code":"import _classCallCheck from\"/home/ashu/Documents/crudoperationwzreact1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ashu/Documents/crudoperationwzreact1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ashu/Documents/crudoperationwzreact1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ashu/Documents/crudoperationwzreact1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ashu/Documents/crudoperationwzreact1/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TransactionForm from\"./TransactionForm\";var TransactionList=/*#__PURE__*/function(_Component){_inherits(TransactionList,_Component);function TransactionList(){var _getPrototypeOf2;var _this;_classCallCheck(this,TransactionList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TransactionList)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={//list: []\nlist:_this.returnList(),currentIndex:-1};_this.handleSubmit=function(e){e.preventDefault();_this.props.onAddOrEdit(_this.state);};_this.onAddOrEdit=function(data){var list=_this.returnList();if(_this.state.currentIndex===-1)list.push(data);//to make the update func work\nelse list[_this.state.currentIndex]=data;localStorage.setItem(\"transactions\",JSON.stringify(list));//to make the update func work\n_this.setState({list:list,currentIndex:-1//after submit to return the placeholders\n});};_this.handleEdit=function(a){_this.setState({currentIndex:a});};_this.handleDelete=function(a){var list=_this.returnList();list.splice(a,1);localStorage.setItem(\"transactions\",JSON.stringify(list));//to make the update func work\n_this.setState({list:list,currentIndex:-1//after submit to return the placeholders\n});};return _this;}_createClass(TransactionList,[{key:\"returnList\",//from array change it to normal func, to avoid error\nvalue:function returnList(){if(localStorage.getItem(\"transactions\")==null)localStorage.setItem(\"transactions\",JSON.stringify([]));return JSON.parse(localStorage.getItem(\"transactions\"));}//function on add & edit linked to transactionForm\n},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(TransactionForm,{onAddOrEdit:this.onAddOrEdit,currentIndex:this.state.currentIndex//for edit purpose\n,list:this.state.list//for edit purpose to be exported to form\n}),React.createElement(\"hr\",null),React.createElement(\"table\",null,React.createElement(\"tbody\",null,this.state.list.map(function(item,a){return React.createElement(\"tr\",{key:a,className:\"frame\"},React.createElement(\"td\",{className:\"one\"},item.benAcctNo),React.createElement(\"td\",{className:\"two\"},item.iFSCode),React.createElement(\"td\",{className:\"three\"},item.benName),React.createElement(\"td\",{className:\"four\"},item.amount),React.createElement(\"td\",null,React.createElement(\"button\",{className:\"edit\",onClick:function onClick(){return _this2.handleEdit(a);}},\"Edit\"),React.createElement(\"button\",{className:\"dlt\",onClick:function onClick(){return _this2.handleDelete(a);}},\"Delete\")));}))));}}]);return TransactionList;}(Component);export default TransactionList;","map":{"version":3,"sources":["/home/ashu/Documents/crudoperationwzreact1/src/components/TransactionList.js"],"names":["React","Component","TransactionForm","TransactionList","state","list","returnList","currentIndex","handleSubmit","e","preventDefault","props","onAddOrEdit","data","push","localStorage","setItem","JSON","stringify","setState","handleEdit","a","handleDelete","splice","getItem","parse","map","item","benAcctNo","iFSCode","benName","amount"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TransactionForm from \"./TransactionForm\";\n\nclass TransactionList extends Component {\n  state = {\n    //list: []\n    list: this.returnList(),\n    currentIndex: -1\n  };\n  //addOrEdit function from transactionList\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onAddOrEdit(this.state);\n  };\n  //from array change it to normal func, to avoid error\n  returnList() {\n    if (localStorage.getItem(\"transactions\") == null)\n      localStorage.setItem(\"transactions\", JSON.stringify([]));\n    return JSON.parse(localStorage.getItem(\"transactions\"));\n  }\n  //function on add & edit linked to transactionForm\n  onAddOrEdit = data => {\n    let list = this.returnList();\n    if (this.state.currentIndex === -1) list.push(data);\n    //to make the update func work\n    else list[this.state.currentIndex] = data;\n    localStorage.setItem(\"transactions\", JSON.stringify(list)); //to make the update func work\n    this.setState({\n      list: list,\n      currentIndex: -1 //after submit to return the placeholders\n    });\n  };\n  //handle edit function\n  handleEdit = a => {\n    this.setState({\n      currentIndex: a\n    });\n  };\n  //handle delete function\n  handleDelete = a => {\n    let list = this.returnList();\n    list.splice(a, 1);\n    localStorage.setItem(\"transactions\", JSON.stringify(list)); //to make the update func work\n    this.setState({\n      list: list,\n      currentIndex: -1 //after submit to return the placeholders\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <TransactionForm\n          onAddOrEdit={this.onAddOrEdit}\n          currentIndex={this.state.currentIndex} //for edit purpose\n          list={this.state.list} //for edit purpose to be exported to form\n        />\n        <hr />\n        <table>\n          <tbody>\n            {this.state.list.map((item, a) => {\n              return (\n                <tr key={a} className=\"frame\">\n                  <td className=\"one\">{item.benAcctNo}</td>\n                  <td className=\"two\">{item.iFSCode}</td>\n                  <td className=\"three\">{item.benName}</td>\n                  <td className=\"four\">{item.amount}</td>\n                  <td>\n                    <button className=\"edit\" onClick={() => this.handleEdit(a)}>\n                      Edit\n                    </button>\n                    <button\n                      className=\"dlt\"\n                      onClick={() => this.handleDelete(a)}\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\nexport default TransactionList;\n"]},"metadata":{},"sourceType":"module"}